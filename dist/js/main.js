(()=>{"use strict";(()=>{const e=document.querySelector(".top-menu").querySelectorAll("a"),t=document.querySelector(".up"),o=document.querySelector("#services");document.querySelector("body"),document.addEventListener("scroll",(function(e){window.scrollY>=o.offsetTop?t.style.display="block":t.style.display="none"}));for(let t of e)t.addEventListener("click",(function(e){e.preventDefault();const o=t.getAttribute("href");document.querySelector(o)&&document.querySelector(o).scrollIntoView({behavior:"smooth",block:"start"})}));t.addEventListener("click",(function(){window.scrollTo({behavior:"smooth",top:0})}))})(),(()=>{const e=document.querySelector("body"),t=(document.querySelector(".callback-btn"),document.querySelector(".modal-callback")),o=document.querySelector(".modal-overlay ");t.querySelector(".modal-close"),e.addEventListener("click",(function(e){(e.target.classList.contains("callback-btn")||e.target.classList.contains("button-services"))&&(t.style.display="block",o.style.display="block"),(e.target.classList.contains("modal-overlay")||e.target.parentElement.matches(".modal-close"))&&(t.style.display="none",o.style.display="none")}))})(),(()=>{const e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element-content"),o=e.querySelectorAll(".title"),c=e.querySelectorAll(".element");e.addEventListener("click",(function(e){if(e.target.closest(".title")){const l=e.target.closest(".title");o.forEach(((e,o)=>{e===l?(c[o].classList.add("active"),e.classList.add("active"),t[o].style.display="block"):(e.classList.remove("active"),c[o].classList.remove("active"),t[o].style.display="none")}))}}))})(),(()=>{const e=document.querySelector("#callback"),t=e.querySelector(".name"),o=e.querySelector(".tel");o.addEventListener("input",(()=>{o.value=o.value.replace(/[^0-9\(\)\-\+]/g,"").substring(0,15)})),t.addEventListener("input",(()=>{"Ваше имя"===t.getAttribute("placeholder")&&(t.value=t.value.replace(/[^а-яА-Я\s\-]/g,"").trim())}))})(),(({formId:e,someElem:t=[]})=>{const o=document.getElementById(e),c=document.createElement("div");try{if(!o)throw new Error("что-то сломалось");o.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=o.querySelectorAll("input"),l=new FormData(o);o.reset();const n={};var r;c.textContent="Loading...",o.append(c),l.forEach(((e,t)=>{n[t]=e.trim()})),t.forEach((e=>{const t=document.getElementById(e.id);"block"===e.type?n[e.id]=t.textContent:"input"===e.type&&(n[e.id]=t.value)})),(r=n,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((t=>{e.forEach((e=>{c.textContent="Thank you!",e.value="",setTimeout((()=>{c.textContent=""}),3e3)}))})).catch((e=>{c.textContent="Проверьте данные формы"}))})()}))}catch(e){console.log(e.message)}})({formId:"callback"})})();