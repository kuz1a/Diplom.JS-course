(()=>{"use strict";(()=>{const e=document.querySelector(".top-menu").querySelectorAll("a"),t=document.querySelector(".up"),o=document.querySelector("#services");document.querySelector("body"),document.addEventListener("scroll",(function(e){window.scrollY>=o.offsetTop?t.style.display="block":t.style.display="none"}));for(let t of e)t.addEventListener("click",(function(e){e.preventDefault();const o=t.getAttribute("href");document.querySelector(o)&&document.querySelector(o).scrollIntoView({behavior:"smooth",block:"start"})}));t.addEventListener("click",(function(){window.scrollTo({behavior:"smooth",top:0})}))})(),new class{constructor({main:e,wrap:t,next:o,prev:n,infinity:s=!1,position:i=0,slidesToShow:r=3,responsive:l=[]}){e&&t||console.warn('slider-carousel: Необходимо 2 свойства, "main" и "wrap"!'),this.main=document.querySelector(e),this.wrap=document.querySelector(t),this.slides=document.querySelector(t).children,this.next=document.querySelector(o),this.prev=document.querySelector(n),this.slidesToShow=r,this.options={position:i,infinity:s,widthSlide:Math.floor(100/this.slidesToShow),maxPosition:this.slides.length-this.slidesToShow},this.responsive=l}init(){this.addGloClass(),this.addStyle(),this.next&&this.prev||this.addArrow(),this.controlSlider(),this.responsive&&this.responseInit()}addGloClass(){this.main.classList.add("glo-slider"),this.wrap.classList.add("glo-slider__wrap");for(const e of this.slides)e.classList.add("glo-slider__item")}addStyle(){let e=document.getElementById("sliderCarousel-style");e||(e=document.createElement("style"),e.id="sliderCarousel-style"),e.textContent=`\n        .glo-slider {\n          overflow: hidden;\n        }\n        .glo-slider__wrap {\n          display: flex;\n          transition: transform 0.5s;\n          will-change: transform;\n          margin-bottom: 30px !important;\n        }\n        .glo-slider__item {\n          align-items: center;\n          justify-content: center;\n          flex: 0 0 ${this.options.widthSlide}%;\n          margin: auto 0 !important;\n        }\n        .slider-arrow {\n          position: relative;\n          top: 75px;\n          margin-top: -18px;\n          z-index: 100;\n          cursor: pointer\n        }\n        .slider-arrow span {\n          display: block;\n          width: 36px;\n          height: 37px;\n          background-color: #f4c71b;\n          border-radius: 50%;\n          text-align: center;\n          padding-top: 11px\n        }\n        #services #arrow-right{\n          position: absolute;\n          left: 97%;\n        }\n        @media only screen and (max-width: 1000px) {\n          #services #arrow-right{\n            left: 95%;\n          }\n        }\n      `,document.head.appendChild(e)}controlSlider(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}prevSlider(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.options.maxPosition),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}nextSlider(){(this.options.infinity||this.options.position<this.options.maxPosition)&&(++this.options.position,this.options.position>this.options.maxPosition&&(this.options.position=0),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}addArrow(){this.prev=document.createElement("button"),this.next=document.createElement("button"),this.prev.className="glo-slider__prev",this.next.className="glo-slider__next",this.main.appendChild(this.prev),this.main.appendChild(this.next);const e=document.createElement("style");e.id="sliderCarousel",e.textContent="\n        .glo-slider__prev, .glo-slider__next {\n          margin: 0 10px;\n          border: 15px solid transparent;\n          background: transparent;\n        }\n        .glo-slider__next {\n          border-left-color: #19b5fe\n        }\n        .glo-slider__prev {\n          border-right-color: #19b5fe\n        }\n        .glo-slider__prev:hover,\n        .glo-slider__next:hover,\n        .glo-slider__prev:focus,\n        .glo-slider__next:focus {\n          background: transparent;\n          outline: transparent;\n        }\n      ",document.head.appendChild(e)}responseInit(){const e=this.slidesToShow,t=this.responsive.map((e=>e.breakpoint)),o=Math.max(...t),n=()=>{this.options.widthSlide=Math.floor(100/this.slidesToShow),this.addStyle()},s=()=>{const s=document.documentElement.clientWidth;if(s<o)for(let e=0;e<t.length;e++)s<t[e]&&(this.slidesToShow=this.responsive[e].slidesToShow,n());else this.slidesToShow=e,n()};s(),window.addEventListener("resize",s)}}({main:".services-elements",wrap:".services-carousel",next:".arrow-right",prev:".arrow-left",slidesToShow:3,infinity:!0,responsive:[{breakpoint:1024,slidesToShow:3},{breakpoint:768,slidesToShow:2},{breakpoint:576,slidesToShow:1}]}).init(),(()=>{const e=document.querySelector("body"),t=(document.querySelector(".callback-btn"),document.querySelector(".modal-callback")),o=document.querySelector(".modal-overlay ");e.addEventListener("click",(function(e){(e.target.classList.contains("callback-btn")||e.target.classList.contains("button-services"))&&(t.style.display="block",o.style.display="block"),(e.target.classList.contains("modal-overlay")||e.target.parentElement.matches(".modal-close"))&&(t.style.display="none",o.style.display="none"),e.target.classList.contains("fancyboxModal")&&(t.style.display="block",o.style.display="block")}))})(),(()=>{const e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element-content"),o=e.querySelectorAll(".title"),n=e.querySelectorAll(".element");e.addEventListener("click",(function(e){if(e.target.closest(".title")){const s=e.target.closest(".title");o.forEach(((e,o)=>{e===s?(n[o].classList.add("active"),e.classList.add("active"),t[o].style.display="block"):(e.classList.remove("active"),n[o].classList.remove("active"),t[o].style.display="none")}))}}))})(),(()=>{const e=document.querySelector("#callback"),t=e.querySelector(".name"),o=e.querySelector(".tel");o.addEventListener("input",(()=>{o.value=o.value.replace(/[^0-9\(\)\-\+]/g,"").substring(0,15)})),t.addEventListener("input",(()=>{"Ваше имя"===t.getAttribute("placeholder")&&(t.value=t.value.replace(/[^а-яА-Я\s\-]/g,"").trim())}))})(),(()=>{const e=document.querySelector(".top-slider"),t=e.querySelectorAll(".item"),o=[],n=document.querySelector(".dots");let s=0,i=0;const r=(e,t,o)=>{e[t].classList.remove(o)},l=(e,t,o)=>{e[t].classList.add(o)};for(let e=t.length-1;e>=0;e--){let t=document.createElement("li");t.classList.add("dot"),o[e]=t,n.insertAdjacentElement("afterbegin",o[e])}o[0].classList.add("dot-active");const a=()=>{r(t,s,"item-active"),r(o,s,"dot-active"),s++,s===t.length&&(s=0),l(t,s,"item-active"),l(o,s,"dot-active")},d=(e=1500)=>{i=setInterval(a,3e3)};e.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".dot")&&(r(t,s,"item-active"),r(o,s,"dot-active"),e.target.matches("#arrow-right")?s++:e.target.matches("#arrow-left")?s--:e.target.classList.contains("dot")&&o.forEach(((t,o)=>{e.target===t&&(s=o)})),s>=t.length&&(s=0),s<0&&(s=t.length-1),l(t,s,"item-active"),l(o,s,"dot-active"))})),e.addEventListener("mouseenter",(e=>{e.target.matches(".dot")&&clearInterval(i)}),!0),e.addEventListener("mouseleave",(e=>{e.target.matches(".dot")&&d(2e3)}),!0),d(2e3)})(),(()=>{const e=document.getElementById("form"),t=document.createElement("div"),o="Проверьте данные формы";try{if(!e)throw new Error("что-то сломалось");e.addEventListener("submit",(n=>{n.preventDefault(),(()=>{const n=e.querySelectorAll("input"),s=new FormData(e),i={};var r;t.textContent="Loading...",e.append(t),s.forEach(((e,t)=>{i[t]=e.trim()})),(e=>{let t=!0;return e[0].value.length>2&&e[1].value.length>7&&(t=!0,t)})(n)?(r=i,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((e=>{n.forEach((e=>{t.textContent="Thank you!",e.value="",setTimeout((()=>{const e=document.querySelector(".modal-callback"),o=document.querySelector(".modal-overlay ");t.textContent="",e.style.display="none",o.style.display="none"}),3e3)}))})).catch((e=>{t.textContent=o})):t.textContent=o})()}))}catch(e){console.log(e.message)}})()})();