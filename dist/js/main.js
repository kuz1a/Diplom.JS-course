(()=>{"use strict";(()=>{const e=document.querySelector(".top-menu").querySelectorAll("a"),t=document.querySelector(".up"),o=document.querySelector("#services");document.querySelector("body"),document.addEventListener("scroll",(function(e){window.scrollY>=o.offsetTop?t.style.display="block":t.style.display="none"}));for(let t of e)t.addEventListener("click",(function(e){e.preventDefault();const o=t.getAttribute("href");document.querySelector(o)&&document.querySelector(o).scrollIntoView({behavior:"smooth",block:"start"})}));t.addEventListener("click",(function(){window.scrollTo({behavior:"smooth",top:0})}))})(),(()=>{const e=document.querySelector("body"),t=(document.querySelector(".callback-btn"),document.querySelector(".modal-callback")),o=document.querySelector(".modal-overlay ");t.querySelector(".modal-close"),e.addEventListener("click",(function(e){(e.target.classList.contains("callback-btn")||e.target.classList.contains("button-services"))&&(t.style.display="block",o.style.display="block"),(e.target.classList.contains("modal-overlay")||e.target.parentElement.matches(".modal-close"))&&(t.style.display="none",o.style.display="none")}))})(),(()=>{const e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element-content"),o=e.querySelectorAll(".title"),c=e.querySelectorAll(".element");e.addEventListener("click",(function(e){if(e.target.closest(".title")){const l=e.target.closest(".title");o.forEach(((e,o)=>{e===l?(c[o].classList.add("active"),e.classList.add("active"),t[o].style.display="block"):(e.classList.remove("active"),c[o].classList.remove("active"),t[o].style.display="none")}))}}))})(),(()=>{const e=document.querySelector("#callback"),t=e.querySelector(".name"),o=e.querySelector(".tel");o.addEventListener("input",(()=>{o.value=o.value.replace(/[^0-9\(\)\-\+]/g,"").substring(0,15)})),t.addEventListener("input",(()=>{"Ваше имя"===t.getAttribute("placeholder")&&(t.value=t.value.replace(/[^а-яА-Я\s\-]/g,"").trim())}))})(),(()=>{const e=document.querySelector(".top-slider"),t=e.querySelectorAll(".item"),o=[],c=document.querySelector(".dots");let l=0,n=0;const a=(e,t,o)=>{e[t].classList.remove(o)},r=(e,t,o)=>{e[t].classList.add(o)};for(let e=t.length-1;e>=0;e--){let t=document.createElement("li");t.classList.add("dot"),o[e]=t,c.insertAdjacentElement("afterbegin",o[e])}o[0].classList.add("dot-active");const s=()=>{a(t,l,"item-active"),a(o,l,"dot-active"),l++,l===t.length&&(l=0),r(t,l,"item-active"),r(o,l,"dot-active")},i=(e=1500)=>{n=setInterval(s,3e3)};e.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".dot")&&(a(t,l,"item-active"),a(o,l,"dot-active"),e.target.matches("#arrow-right")?l++:e.target.matches("#arrow-left")?l--:e.target.classList.contains("dot")&&o.forEach(((t,o)=>{e.target===t&&(l=o)})),l>=t.length&&(l=0),l<0&&(l=t.length-1),r(t,l,"item-active"),r(o,l,"dot-active"))})),e.addEventListener("mouseenter",(e=>{e.target.matches(".dot")&&clearInterval(n)}),!0),e.addEventListener("mouseleave",(e=>{e.target.matches(".dot")&&i(2e3)}),!0),i(2e3)})(),(()=>{const e=document.getElementById("callback"),t=document.createElement("div"),o="Проверьте данные формы";try{if(!e)throw new Error("что-то сломалось");e.addEventListener("submit",(c=>{c.preventDefault(),(()=>{const c=e.querySelectorAll("input"),l=new FormData(e),n={};var a;t.textContent="Loading...",e.append(t),l.forEach(((e,t)=>{n[t]=e.trim()})),(e=>{let t=!0;return e[0].value.length>2&&e[1].value.length>7&&(t=!0,t)})(c)?(a=n,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((e=>{c.forEach((e=>{t.textContent="Thank you!",e.value="",setTimeout((()=>{t.textContent=""}),3e3)}))})).catch((e=>{t.textContent=o})):t.textContent=o})()}))}catch(e){console.log(e.message)}})()})();